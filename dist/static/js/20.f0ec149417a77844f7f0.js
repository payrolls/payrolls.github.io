webpackJsonp([20],{483:function(t,e,o){o(673);var i=o(53)(o(654),o(681),null,null);t.exports=i.exports},654:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(114),a=function(t){return t&&t.__esModule?t:{default:t}}(i),l=new a.default;e.default={data:function(){return{titleShow:!1,dialogForm:!1,formLabelWidth:"200px",disabled:!0,isShow:!0,sourceList:[],form:{info:"",id:"",platform:"1",version:"",pkg_id:""}}},mounted:function(){this.getPkgList()},watch:{"form.platform":function(){this.getPkgList()},"form.version":function(){this.getPkgList()},"form.dtu":function(){this.getPkgList()}},methods:{getPkgList:function(){var t=this;l.send(l.Apis.qutuiba.version.getPkgList,{platform:1,version:this.form.version,dtu:this.form.dtu,page:1,offset:30}).then(function(e){t.sourceList=e.data.list}).catch(function(e){t.$message.error("获取内容列表数据失败："+(e.message||"未知错误"))}).fin(function(){t.loading=!1}).done()},getPkgName:function(t){var e=t.url,o=e.match(/\/([^\/]*)$/);return[this.form.platform[t.platform],t.version,t.version_small,(o||[])[1]].join(" - ")},showInfoDialog:function(t){t?(this.isShow=!1,this.form.platform=t.platform,this.form.info=t.info,this.form.md5=t.md5,this.form.id=t.id,this.titleShow=!1):(this.titleShow=!0,this.form.platform="1",this.form.version="",this.form.info="",this.form.pkg_id=""),this.dialogForm=!0},submit:function(){var t=this;l.send(1==this.titleShow?l.Apis.qutuiba.version.add:l.Apis.qutuiba.version.modify,this.form).then(function(e){t.$message.success("提交成功！"),t.dialogForm=!1,t.$emit("update")}).catch(function(e){t.$message.error(e.message)}).fin(function(){t.loading=!1}).done()}}}},665:function(t,e,o){e=t.exports=o(471)(),e.push([t.i,".updatePwd .el-dialog__header{padding:30px}.updatePwd .el-dialog__header .el-dialog__headerbtn{width:50px;height:50px;margin:-30px -30px 0 0}.updatePwd .el-dialog__body{padding:30px 50px 0 0}","",{version:3,sources:["C:/work/payrolls/src/views/global/VersionDetail.vue"],names:[],mappings:"AACA,8BACE,YAAc,CACf,AACD,oDACE,WAAY,AACZ,YAAa,AACb,sBAAwB,CACzB,AACD,4BACE,qBAAuB,CACxB",file:"VersionDetail.vue",sourcesContent:["\n.updatePwd .el-dialog__header {\n  padding: 30px;\n}\n.updatePwd .el-dialog__header .el-dialog__headerbtn {\n  width: 50px;\n  height: 50px;\n  margin: -30px -30px 0 0;\n}\n.updatePwd .el-dialog__body {\n  padding: 30px 50px 0 0;\n}\n"],sourceRoot:""}])},673:function(t,e,o){var i=o(665);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);o(472)("ecea03c0",i,!0)},681:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-dialog",{staticClass:"updatePwd",attrs:{title:1==t.titleShow?"添加版本":"编辑版本",visible:t.dialogForm},on:{"update:visible":function(e){t.dialogForm=e}}},[o("el-form",{attrs:{model:t.form}},[o("el-form-item",{attrs:{label:"","label-width":t.formLabelWidth}},[o("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:t.form.platform,callback:function(e){t.form.platform=e},expression:"form.platform"}},[t._v("安卓")])],1),t._v(" "),t.titleShow?o("el-form-item",{attrs:{label:"渠道:","label-width":t.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.dtu,callback:function(e){t.form.dtu=e},expression:"form.dtu"}})],1):t._e(),t._v(" "),t.titleShow?o("el-form-item",{attrs:{label:"版本:","label-width":t.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.version,callback:function(e){t.form.version=e},expression:"form.version"}})],1):t._e(),t._v(" "),o("el-form-item",{attrs:{label:"描述:","label-width":t.formLabelWidth}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.info,callback:function(e){t.form.info=e},expression:"form.info"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"选择包:","label-width":t.formLabelWidth}},[o("el-select",{attrs:{filterable:"",clearable:"",placeholder:"选择包"},model:{value:t.form.pkg_id,callback:function(e){t.form.pkg_id=e},expression:"form.pkg_id"}},t._l(t.sourceList,function(e,i){return o("el-option",{key:e.id,attrs:{label:e.id,value:e.id}},[t._v(t._s(t.getPkgName(e))+"\n                ")])}))],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogForm=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submit()}}},[t._v("提交")])],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=20.f0ec149417a77844f7f0.js.map